<div class="layout-container">
  <header class="header">
    <div class="header-content">
      <button class="menu-toggle" (click)="toggleMenu()">
        <span>â˜°</span>
      </button>
      
      <div class="logo-container">
        <div class="logo-wrapper">
          <img *ngIf="logoUrl" [src]="logoUrl" alt="Logo" class="logo-image" />
          <h1 *ngIf="!logoUrl" class="logo-text">{{ nomeSalao }}</h1>
        </div>
      </div>
      
      <div class="header-info">
        <div class="data-hora">
          <span class="dia-semana">{{ diaSemana }}</span>
          <span class="separador">|</span>
          <span class="data">{{ dataFormatada }}</span>
          <span class="separador">|</span>
          <span class="hora">{{ horaFormatada }}</span>
        </div>
      </div>
      
      <nav class="header-nav">
        <div class="user-info" *ngIf="usuarioLogado">
          <span class="user-name">{{ usuarioLogado.nome }}</span>
          <span class="user-profile" [class.admin]="usuarioLogado.perfil === 'admin'">
            {{ usuarioLogado.perfil === 'admin' ? 'ğŸ‘‘ Admin' : 'ğŸ‘¤ FuncionÃ¡rio' }}
          </span>
        </div>
        <button class="btn btn-danger btn-small" (click)="logout()" title="Sair">
          ğŸšª Sair
        </button>
      </nav>
    </div>
  </header>

  <div class="main-container">
    <aside class="sidebar" [class.open]="menuOpen">
      <nav class="sidebar-nav">
        <a routerLink="/dashboard" routerLinkActive="active" (click)="menuOpen = false">
          <span>ğŸ“Š</span> Dashboard
        </a>
        <a *ngIf="podeVerClientes" routerLink="/clientes" routerLinkActive="active" (click)="menuOpen = false">
          <span>ğŸ‘¥</span> Clientes
        </a>
        <a *ngIf="podeVerServicos" routerLink="/servicos" routerLinkActive="active" (click)="menuOpen = false">
          <span>âœ‚ï¸</span> ServiÃ§os
        </a>
        <a *ngIf="podeVerProfissionais" routerLink="/profissionais" routerLinkActive="active" (click)="menuOpen = false">
          <span>ğŸ‘¨â€ğŸ’¼</span> Profissionais
        </a>
        <a *ngIf="podeVerAgendamentos" routerLink="/agendamentos" routerLinkActive="active" (click)="menuOpen = false">
          <span>ğŸ“…</span> Agendamentos
        </a>
        <div class="nav-section" *ngIf="podeVerContasReceber || podeVerContasPagar || podeVerCaixa">
          <span class="nav-section-title">ğŸ’° Financeiro</span>
          <a *ngIf="podeVerContasReceber" routerLink="/financeiro/contas-receber" routerLinkActive="active" (click)="menuOpen = false">
            <span>ğŸ“¥</span> Contas a Receber
          </a>
          <a *ngIf="podeVerContasPagar" routerLink="/financeiro/contas-pagar" routerLinkActive="active" (click)="menuOpen = false">
            <span>ğŸ“¤</span> Contas a Pagar
          </a>
          <a *ngIf="podeVerCaixa" routerLink="/financeiro/caixa" routerLinkActive="active" (click)="menuOpen = false">
            <span>ğŸ’µ</span> Caixa
          </a>
        </div>
        <div class="nav-section" *ngIf="podeVerEstoque || podeVerFornecedores">
          <span class="nav-section-title">ğŸ“¦ Estoque</span>
          <a *ngIf="podeVerEstoque" routerLink="/estoque" routerLinkActive="active" (click)="menuOpen = false">
            <span>ğŸ“¦</span> Produtos
          </a>
          <a *ngIf="podeVerFornecedores" routerLink="/fornecedores" routerLinkActive="active" (click)="menuOpen = false">
            <span>ğŸ¢</span> Fornecedores
          </a>
        </div>
        <div class="nav-section" *ngIf="authService.isAdmin()">
          <span class="nav-section-title">âš™ï¸ AdministraÃ§Ã£o</span>
          <a routerLink="/usuarios" routerLinkActive="active" (click)="menuOpen = false">
            <span>ğŸ‘¥</span> UsuÃ¡rios
          </a>
          <a routerLink="/configuracoes" routerLinkActive="active" (click)="menuOpen = false">
            <span>âš™ï¸</span> ConfiguraÃ§Ãµes
          </a>
          <a routerLink="/permissoes" routerLinkActive="active" (click)="menuOpen = false">
            <span>ğŸ”</span> PermissÃµes
          </a>
          <a routerLink="/migrar-senhas" routerLinkActive="active" (click)="menuOpen = false">
            <span>ğŸ”’</span> Migrar Senhas
          </a>
          <a routerLink="/auditoria" routerLinkActive="active" (click)="menuOpen = false">
            <span>ğŸ”</span> Auditoria
          </a>
        </div>
      </nav>
    </aside>

    <main class="main-content">
      <router-outlet></router-outlet>
    </main>
  </div>
</div>

